{"version":3,"file":"static/js/881.3ca83af4.chunk.js","mappings":"+SAEMA,EAAW,+BACXC,EAAU,mCAET,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,oGACaC,EAAAA,EAAAA,IAAA,UACbH,EADa,uCAC0BC,IAFvC,cACCG,EADD,yBAIEA,EAAIC,MAJN,kEAMA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAiCC,GAAjC,uFACaJ,EAAAA,EAAAA,IAAA,UAAaH,EAAb,kBAA+BO,EAA/B,oBAA6CN,IAD1D,cACCG,EADD,yBAEEA,EAAIC,MAFN,kEAKA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAAqCC,GAArC,uFACaN,EAAAA,EAAAA,IAAA,UACbH,EADa,iCACoBC,EADpB,kBACqCQ,IAFlD,cACCL,EADD,yBAIEA,EAAIC,MAJN,kEAOA,SAAeK,EAAtB,+CAAO,OAAP,oBAAO,WAAoCH,GAApC,uFACaJ,EAAAA,EAAAA,IAAA,UACbH,EADa,kBACKO,EADL,4BAC2BN,IAFxC,cACCG,EADD,yBAIEA,EAAIC,MAJN,kEAOA,SAAeM,EAAtB,+CAAO,OAAP,oBAAO,WAAmCJ,GAAnC,uFACaJ,EAAAA,EAAAA,IAAA,UACbH,EADa,kBACKO,EADL,4BAC2BN,IAFxC,cACCG,EADD,yBAIEA,EAAIC,MAJN,kE,mHC7BP,EAAuB,qBAAvB,EAAqD,uBAArD,EAAmF,qBAAnF,EAAgH,sBAAhH,EAA2I,mB,SC4D3I,EAxDe,WAAO,IAAD,EACjB,GAA4BO,EAAAA,EAAAA,YAA5B,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMR,EAAK,UAAGO,EAAaE,IAAI,gBAApB,QAAgC,GACrCC,GAAWC,EAAAA,EAAAA,OAUjBC,EAAAA,EAAAA,YAAU,WACNZ,IACID,EAAAA,EAAAA,IAAsBC,GACjBa,MAAK,SAAAC,GACNT,EAAUS,EAASC,QACtB,IACIC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,EAAhB,GACrB,GAAE,CAACjB,IAsBJ,OACI,iCACI,kBAAMoB,UAAWC,EAAQC,SAxCZ,SAAAC,GACjBA,EAAEC,iBACF,IAAMC,EAAcF,EAAEG,cAAcC,SAAS3B,MAAM4B,MACnD,GAAoB,KAAhBH,EACA,OAAOjB,EAAgB,CAAC,GAE5BA,EAAgB,CAAER,MAAOyB,IACzBF,EAAEG,cAAcC,SAAS3B,MAAM4B,MAAQ,EAC1C,EAgCO,WACI,kBAAOR,UAAWC,EAASQ,KAAK,OAAOC,KAAK,QAAQC,UAAQ,KAC5D,mBAAQX,UAAWC,EAAUQ,KAAK,SAAlC,wBAvBJ,eAAIT,UAAWC,EAAf,SACKjB,IACIA,EAAO4B,OAAS,EACZ5B,EAAO6B,KAAI,gBAAGC,EAAH,EAAGA,MAAOpC,EAAV,EAAUA,GAAV,OACR,SAAC,KAAD,CACIsB,UAAWC,EAEXc,MAAO,CAAEC,KAAM1B,GACf2B,GAAE,UAAKvC,GAJX,UAMI,wBAAKoC,KAJApC,EAHD,KAWR,iDAgB3B,C","sources":["helpers/movieApi.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '907b63ed414d758da06a5e7732936b73';\n\nexport async function getTranding() {\n  const res = await axios.get(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n  return res.data;\n}\nexport async function getSearcMovieById(id) {\n  const res = await axios.get(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`);\n  return res.data;\n}\n\nexport async function getSearchMovieByQuery(query) {\n  const res = await axios.get(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n  return res.data;\n}\n\nexport async function getSearchCresitsById(id) {\n  const res = await axios.get(\n    `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`\n  );\n  return res.data;\n}\n\nexport async function getSearchReviewById(id) {\n  const res = await axios.get(\n    `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`\n  );\n  return res.data;\n}","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__4ow+Z\",\"submit\":\"Movies_submit__Nxgt8\",\"link\":\"Movies_link__MzAfU\",\"input\":\"Movies_input__KrUqs\",\"li\":\"Movies_li__FFV4X\"};","import { Link, useLocation,useSearchParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { getSearchMovieByQuery } from '../../helpers/movieApi';\nimport s from './Movies.module.css';\n \nconst Movies = () => {\n    const [movies, setMovies] = useState();\n    const [searchParams, setSearchParams] = useSearchParams();\n    const query = searchParams.get('query') ?? '';\n    const location = useLocation();\n    const handleSubmit = e => {\n        e.preventDefault();\n        const searchQuery = e.currentTarget.elements.query.value;\n        if (searchQuery === '') {\n            return setSearchParams({});\n        }\n        setSearchParams({ query: searchQuery });\n        e.currentTarget.elements.query.value = '';\n    };\n    useEffect(() => {\n        query &&\n            getSearchMovieByQuery(query)\n                .then(response => {\n                setMovies(response.results);\n            })\n                .catch(err => console.log(err));\n    }, [query]);\n    const markupMovies = () => {\n        return (\n            <ul className={s.li}>\n                {movies &&\n                    (movies.length > 0 ?\n                        (movies.map(({ title, id }) => (\n                            <Link\n                                className={s.link}\n                                key={id}\n                                state={{ from: location }}\n                                to={`${id}`}\n                            >\n                                <li>{title}</li>\n                            </Link>\n                        ))\n                        ) : (\n                            <p>Movies not found</p>\n                        ))}\n            </ul>  \n        );      \n    };\n    return (\n        <>\n            <form className={s.form} onSubmit={handleSubmit}>\n                <input className={s.input} type=\"text\" name=\"query\" required></input>\n                <button className={s.submit} type='submit'>\n                    Search\n                </button>\n            </form>\n            {markupMovies()}\n        </>\n    );\n};\n  \nexport default Movies;"],"names":["BASE_URL","API_KEY","getTranding","axios","res","data","getSearcMovieById","id","getSearchMovieByQuery","query","getSearchCresitsById","getSearchReviewById","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","get","location","useLocation","useEffect","then","response","results","catch","err","console","log","className","s","onSubmit","e","preventDefault","searchQuery","currentTarget","elements","value","type","name","required","length","map","title","state","from","to"],"sourceRoot":""}